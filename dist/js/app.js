!function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e){(function(t){"undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;var n="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,o=e("./background.js"),r=e("./bodyclass.js"),i=e("./utils.js");r(),i.pimpClasses();var a=n.module("f5SkinApp",["mm.foundation"]);a.factory("Preferences",function(){var e=JSON.parse($("#stdPreferences").text()||"{}"),t=JSON.parse($("#usrPreferences").text()||"{}");return $.extend({},e,t,window.f5CoreInfo)}),a.controller("F5SkinController",["$scope","Preferences","$modal",function(e,t,n){e.param=t,o.setImage(e.param.timeSlots),0===e.param.topbar.menuItems.topics.text.length&&(e.param.topbar.menuItems.topics.text=e.param.siteAlias.toLowerCase()),e.param.topbar.menuItems.topics.drop=$("#toolbarTopics").has(".dropdown"),e.param.topbar.menuItems.breadcrumbs.items=i.getBreadcrumbs(),console.dir(e.param.topbar.menuItems.breadcrumbs.items),e.param.topbar.menuItems.abo.items=i.getSpecialMenu("#aboMenu"),e.param.topbar.menuItems.images.items=i.getSpecialMenu("#imageMenu"),e.param.isLoggedIn=function(){return e.param.userName.length>0},e.param.isAdmin=function(){return e.param.isLoggedIn()&&"Administrator"===e.param.userRole()},e.param.isContributor=function(){return e.param.isLoggedIn()&&("Contributor"===e.param.userRole()||"Administrator"===e.param.userRole())},e.param.sendMail=function(){window.location.href=i.rot13(e.param.topbar.mailIcon.href)},e.msgClose=!1,e.customize={open:function(){var t=n.open({templateUrl:"customizeBlogHtml",controller:"CustomizeBlogController",resolve:{param:function(){return e.param}},backdrop:"static",keyboard:!1,windowClass:"xlarge"});t.result.then(function(){},function(){})}}}]),a.controller("CustomizeBlogController",["$scope","$modalInstance",function(e,t,n){e.param=n,e.ok=function(){t.close("Pressed OK!")},e.cancel=function(){t.dismiss("Pressed Cancel!")}}]),a.controller("tmplGrunddatenController",["$scope","Preferences",function(e,t){e.input=t,e.setStaticFolder=function(){e.input.site.imgFolder=e.input.staticUrl+e.input.userName+"/images/"},e.testLoader=function(){$("#loader-wrapper").show(0).delay(3e3).hide(0)}}]),a.controller("tmplHintergrundbilderController",["$scope","Preferences",function(e,t){e.input=t,e.positions=["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"],e.repeats=["repeat","repeat-x","repeat-y","no-repeat"],e.sizes=["auto","cover","contain"],e.attachments=["fixed","local","scroll"],e.isEditMode=e.isCreateMode=!1,e.edit=function(t){e.slot=n.copy(e.input.timeSlots[t]),e.index=t,e.isEditMode=!0},e.cancel=function(){e.isCreateMode&&delete e.slot,e.isEditMode=e.isCreateMode=!1},e.save=function(){e.isCreateMode?e.insert():e.update(),e.isEditMode=e.isCreateMode=!1},e.insert=function(){e.input.timeSlots.push(e.slot)},e.update=function(){e.input.timeSlots[e.index]=e.slot},e["delete"]=function(t){e.input.timeSlots.splice(t,1)},e.create=function(){e.slot={from:0,to:23,repeat:"no-repeat",position:"top center",size:"cover",attachment:"fixed",href:""},e.isCreateMode=!0},e.usePosition=function(t){e.slot.position=e.positions[t]},e.useRepeat=function(t){e.slot.repeat=e.repeats[t]},e.useSize=function(t){e.slot.size=e.sizes[t]},e.useAttachment=function(t){e.slot.attachment=e.attachments[t]}}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./background.js":2,"./bodyclass.js":3,"./utils.js":4}],2:[function(e,t){(function(e){"undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,t.exports={setImage:function(e){if(0!==e.length){var t=(new Date).getHours();$.each(e,function(){if(t>=this.from&&t<this.to){var e=this;return $("<img/>").attr("src",e.href).load(function(){$(this).remove(),$("body").css({"background-image":'url("'+e.href+'")',"background-repeat":e.repeat,"background-position":e.position,"background-attachment":e.attachment,"background-size":e.size,height:"100%"}),$("#loader-wrapper").fadeOut("slow")}),!1}})}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){(function(e){"undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,t.exports=function(){var e="";if("/"===location.pathname)e="onHome";else{var t=location.pathname.replace(/\//g," ").trim().split(" ");switch(t[0]){case"topics":e="onTopic "+t[1].toLowerCase();break;case"stories":e="onStory "+t[1].toLowerCase()}}e.length>0&&$("body").addClass(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t){(function(e){"undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,t.exports={linksToObjects:function(e){var t=[];return $(e).each(function(){t.push({href:this.href,text:this.innerText})}),t},getBreadcrumbs:function(){return this.linksToObjects("#breadcrumbsMenu >a:not([id])")},getSpecialMenu:function(e){return this.linksToObjects(e+" a")},pimpClasses:function(){$(".message .button").addClass("secondary tiny radius")},rot13:function(e){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode(("Z">=e?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
//# sourceMappingURL=app.js.map